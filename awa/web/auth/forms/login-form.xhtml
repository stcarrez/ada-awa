<!-- Traditional email/password login form
  -  Copyright (C) 2011, 2012, 2019, 2020, 2022 Stephane Carrez
  -  Written by Stephane Carrez (Stephane.Carrez@gmail.com)
  -
  -  Licensed under the Apache License, Version 2.0 (the "License");
  -  you may not use this file except in compliance with the License.
  -  You may obtain a copy of the License at
  -
  -      http://www.apache.org/licenses/LICENSE-2.0
  -
  -  Unless required by applicable law or agreed to in writing, software
  -  distributed under the License is distributed on an "AS IS" BASIS,
  -  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  -  See the License for the specific language governing permissions and
  -  limitations under the License.
  -->
<ui:composition
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:util="http://code.google.com/p/ada-asf/util"
  xmlns:c="http://java.sun.com/jstl/core"
  xmlns:h="http://java.sun.com/jsf/html">

  <div class='awa-login awa-form'>
    <h2>#{userMsg.login_classic_title}</h2>
    <h:form id='login'>
        <h:inputHidden id='redirect' value="#{login.redirect}" required='false'/>
        <div class='awa-messages'>
            <h:message styleClass='awa-error'/>
        </div>
        <dl class="awa-required#{util:hasMessage('email') ? ' awa-error' : ''}">
            <dt>
                <label for='email'>#{userMsg.login_email_label}</label>
                <h:message for='email'/>
            </dt>
            <dd>
                <h:inputText id='email' styleClass="ui-corner-all"
                             size='50' required='false' value='#{login.email}'/>
            </dd>
        </dl>
        <dl class="awa-required#{util:hasMessage('password') ? ' awa-error' : ''}">
            <dt>
                <label for='password'>#{userMsg.login_password_label}</label>
            </dt>
            <dd>
                <h:inputSecret id='password' styleClass="ui-corner-all"
                               size='20' autocomplete="off" required='false' value='#{login.password}'/>
            </dd>
        </dl>
        <ul class='awa-buttons'>
            <li>
                <h:commandButton id='login-button' value='#{userMsg.login_signin_button}'
                                 styleClass="ui-button ui-state-default ui-corner-all"
                                 action="#{login.authenticate}" title="#{userMsg.login_submit_login_title}"/>
            </li>
            <li class='awa-link-lost-password'>
                <a href='lost-password.html' title='#{userMsg.lost_password_link_title}'>
                    #{userMsg.lost_password_link}
                </a>
		<c:if test="#{initParam.app_login_register}">
                  <a id='signup-link' href='register.html' title='#{userMsg.lost_password_create_account_title}'>
                    #{userMsg.lost_password_create_account_link}
                  </a>
		</c:if>
            </li>
        </ul>
    </h:form>
  </div>

</ui:composition>

